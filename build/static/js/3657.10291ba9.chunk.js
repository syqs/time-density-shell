"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[3657],{90326:function(e,t,n){n.d(t,{z:function(){return h},Z:function(){return l}});var r=n(12065),a=n(64554),o=n(36314),i=n(80184);function l(e){var t=e.colors,n=e.limit,l=void 0===n?3:n,s=e.sx,c=t.slice(0,l),d=t.length-l;return(0,i.jsxs)(o.Z,{component:"span",direction:"row",alignItems:"center",justifyContent:"flex-end",sx:s,children:[c.map((function(e,t){return(0,i.jsx)(a.Z,{sx:{ml:-.75,width:16,height:16,bgcolor:e,borderRadius:"50%",border:function(e){return"solid 2px ".concat(e.palette.background.paper)},boxShadow:function(e){return"inset -1px 1px 2px ".concat((0,r.Fq)(e.palette.common.black,.24))}}},e+t)})),t.length>l&&(0,i.jsx)(a.Z,{component:"span",sx:{typography:"subtitle2"},children:"+".concat(d)})]})}var s=n(1413),c=n(93433),d=n(45987),u=n(72791),p=n(95080),f=n(61005),x=["colors","selected","onSelectColor","limit","sx"],h=(0,u.forwardRef)((function(e,t){var n=e.colors,a=e.selected,l=e.onSelectColor,h=e.limit,v=void 0===h?"auto":h,g=e.sx,Z=(0,d.Z)(e,x),b="string"===typeof a,m=(0,u.useCallback)((function(e){if(b)e!==a&&l(e);else{var t=a.includes(e)?a.filter((function(t){return t!==e})):[].concat((0,c.Z)(a),[e]);l(t)}}),[l,a,b]);return(0,i.jsx)(o.Z,(0,s.Z)((0,s.Z)({ref:t,direction:"row",display:"inline-flex",sx:(0,s.Z)((0,s.Z)({flexWrap:"wrap"},"auto"!==v&&{width:36*v,justifyContent:"flex-end"}),g)},Z),{},{children:n.map((function(e){var t=b?a===e:a.includes(e);return(0,i.jsx)(p.Z,{sx:{width:36,height:36,borderRadius:"50%"},onClick:function(){m(e)},children:(0,i.jsx)(o.Z,{alignItems:"center",justifyContent:"center",sx:(0,s.Z)({width:20,height:20,bgcolor:e,borderRadius:"50%",border:function(e){return"solid 1px ".concat((0,r.Fq)(e.palette.grey[500],.16))}},t&&{transform:"scale(1.3)",boxShadow:"4px 4px 8px 0 ".concat((0,r.Fq)(e,.48)),outline:"solid 2px ".concat((0,r.Fq)(e,.08)),transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}}),children:(0,i.jsx)(f.Z,{width:t?12:0,icon:"eva:checkmark-fill",sx:{color:function(t){return t.palette.getContrastText(e)},transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}}})})},e)}))}))}))},7017:function(e,t,n){n.d(t,{ZP:function(){return w},l2:function(){return l},wE:function(){return d}});var r=n(82599),a=n(54690),o=n(85375),i=n(84791);function l(e,t){var n=(new Date).getFullYear(),l=e?(0,r.Z)(e):null,s=t?(0,r.Z)(t):null,c=n===l&&n===s,d=!(!e||!t)&&(0,a.Z)(new Date(e),new Date(t)),u=!(!e||!t)&&(0,o.Z)(new Date(e),new Date(t));return c?u?d?(0,i.Mu)(t,"dd MMM yy"):"".concat((0,i.Mu)(e,"dd")," - ").concat((0,i.Mu)(t,"dd MMM yy")):"".concat((0,i.Mu)(e,"dd MMM")," - ").concat((0,i.Mu)(t,"dd MMM yy")):"".concat((0,i.Mu)(e,"dd MMM yy")," - ").concat((0,i.Mu)(t,"dd MMM yy"))}var s=n(29439),c=n(72791);function d(e,t){var n=(0,c.useState)(!1),r=(0,s.Z)(n,2),a=r[0],o=r[1],d=(0,c.useState)(t),u=(0,s.Z)(d,2),p=u[0],f=u[1],x=(0,c.useState)(e),h=(0,s.Z)(x,2),v=h[0],g=h[1],Z=!(!e||!t)&&new Date(e).getTime()>new Date(t).getTime(),b=(0,c.useCallback)((function(){o(!0)}),[]),m=(0,c.useCallback)((function(){o(!1)}),[]);return{startDate:v,endDate:p,onChangeStartDate:(0,c.useCallback)((function(e){g(e)}),[]),onChangeEndDate:(0,c.useCallback)((function(e){Z&&f(null),f(e)}),[Z]),open:a,onOpen:b,onClose:m,onReset:(0,c.useCallback)((function(){g(null),f(null)}),[]),selected:!!v&&!!p,error:Z,label:"".concat((0,i.Mu)(v)," - ").concat((0,i.Mu)(p)),shortLabel:l(v,p),setStartDate:g,setEndDate:f}}var u=n(1413),p=n(53106),f=n(58331),x=n(27938),h=n(36314),v=n(5849),g=n(5574),Z=n(65661),b=n(97123),m=n(39157),y=n(30035),j=n(68051),C=n(80184);function w(e){var t=e.title,n=void 0===t?"Select date range":t,r=e.variant,a=void 0===r?"input":r,o=e.startDate,i=e.endDate,l=e.onChangeStartDate,s=e.onChangeEndDate,c=e.open,d=e.onClose,w=e.error,k=(0,j.F)("up","md"),D="calendar"===a;return(0,C.jsxs)(g.Z,{fullWidth:!0,maxWidth:!D&&"xs",open:c,onClose:d,PaperProps:{sx:(0,u.Z)({},D&&{maxWidth:720})},children:[(0,C.jsx)(Z.Z,{sx:{pb:2},children:n}),(0,C.jsxs)(m.Z,{sx:(0,u.Z)({},D&&k&&{overflow:"unset"}),children:[(0,C.jsx)(h.Z,{justifyContent:"center",spacing:D?3:2,direction:D&&k?"row":"column",sx:{pt:1},children:D?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,C.jsx)(f.W,{value:o,onChange:l})}),(0,C.jsx)(x.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,C.jsx)(f.W,{value:i,onChange:s})})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(p.M,{label:"Start date",value:o,onChange:l}),(0,C.jsx)(p.M,{label:"End date",value:i,onChange:s})]})}),w&&(0,C.jsx)(y.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(v.Z,{variant:"outlined",color:"inherit",onClick:d,children:"Cancel"}),(0,C.jsx)(v.Z,{disabled:w,variant:"contained",onClick:d,children:"Apply"})]})]})}},2939:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ie}});var r=n(6907),a=n(4942),o=n(1413),i=n(29439),l=n(90575),s=n(74332),c=n(49704),d=n(38217),u=n(52720),p=n(16977),f=n(72791),x=n(13967),h=n(57621),v=n(36314),g=n(5849),Z=n(5574),b=n(89164),m=n(4567),y=n(65661),j=n(84791),C=n(71839),w=n(68051),k=n(68752),D=n(74165),M=n(93433),F=n(15861),S=n(44887),R=n(92033),E=R.Hv.calendar,I={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};function O(e){return W.apply(this,arguments)}function W(){return(W=(0,F.Z)((0,D.Z)().mark((function e(t){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,S.JG)(E,(function(e){var n=[].concat((0,M.Z)(e.events),[t]);return(0,o.Z)((0,o.Z)({},e),{},{events:n})}),!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return P.apply(this,arguments)}function P(){return(P=(0,F.Z)((0,D.Z)().mark((function e(t){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,S.JG)(E,(function(e){var n=e.events.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),t):e}));return(0,o.Z)((0,o.Z)({},e),{},{events:n})}),!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return _.apply(this,arguments)}function _(){return(_=(0,F.Z)((0,D.Z)().mark((function e(t){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,S.JG)(E,(function(e){var n=e.events.filter((function(e){return e.id!==t}));return(0,o.Z)((0,o.Z)({},e),{},{events:n})}),!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(61005),A=n(62967);var V=n(79286),G=n.n(V);var L=n(66934),N=n(12065),H=(0,L.ZP)("div")((function(e){var t=e.theme;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-border-color":(0,N.Fq)(t.palette.grey[500],.16),"--fc-now-indicator-color":t.palette.error.main,"--fc-today-bg-color":(0,N.Fq)(t.palette.grey[500],.08),"--fc-page-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.neutral,"--fc-list-event-hover-bg-color":t.palette.action.hover,"--fc-highlight-color":t.palette.action.hover},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":(0,o.Z)((0,o.Z)({},t.typography.subtitle2),{},{padding:"13px 0"})},"& .fc .fc-list-empty":(0,o.Z)((0,o.Z)({},t.typography.h6),{},{backgroundColor:"transparent",color:t.palette.text.secondary}),"& .fc .fc-event":{borderColor:"transparent !important",backgroundColor:"transparent !important"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:6,backgroundColor:t.palette.common.white,"&:before":{top:0,left:0,width:"100%",content:"''",opacity:.24,height:"100%",borderRadius:6,position:"absolute",backgroundColor:"currentColor",transition:t.transitions.create(["opacity"]),"&:hover":{"&:before":{opacity:.32}}}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.48)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.dropdown,borderRadius:1.5*t.shape.borderRadius,backgroundColor:t.palette.background.paper},"& .fc .fc-popover-header":(0,o.Z)((0,o.Z)({},t.typography.subtitle2),{},{padding:t.spacing(1),backgroundColor:(0,N.Fq)(t.palette.grey[500],.08)}),"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create(["opacity"]),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc .fc-daygrid-day-number":(0,o.Z)((0,o.Z)({},t.typography.body2),{},{padding:t.spacing(1,1,0)}),"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":(0,o.Z)((0,o.Z)({},t.typography.caption),{},{color:t.palette.text.secondary,"&:hover":{backgroundColor:"unset",textDecoration:"underline",color:t.palette.text.primary,fontWeight:t.typography.fontWeightMedium}}),"& .fc .fc-timegrid-axis-cushion":(0,o.Z)((0,o.Z)({},t.typography.body2),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-slot-label-cushion":(0,o.Z)({},t.typography.body2),"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":(0,o.Z)({},t.typography.subtitle2),"& .fc .fc-list-event":(0,o.Z)((0,o.Z)({},t.typography.body2),{},{"& .fc-list-event-time":{color:t.palette.text.secondary}}),"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}})),B=n(8007),J=n(61134),K=n(44695),Q=n(11074),U=n(12258),X=n(64554),Y=n(20068),$=n(13400),ee=n(97123),te=n(24649),ne=n(11857),re=n(90326),ae=n(34024),oe=n(80184);function ie(e){var t=e.currentEvent,n=e.colorOptions,r=e.onClose,a=(0,ne.Ds)().enqueueSnackbar,i=B.Ry().shape({title:B.Z_().max(255).required("Title is required"),description:B.Z_().max(5e3,"Description must be at most 5000 characters"),color:B.Z_(),allDay:B.O7(),start:B.nK(),end:B.nK()}),l=(0,J.cI)({resolver:(0,K.X)(i),defaultValues:t}),s=l.reset,c=l.watch,d=l.control,u=l.handleSubmit,p=l.formState.isSubmitting,x=c(),h=!(!x.start||!x.end)&&x.start>x.end,Z=u(function(){var e=(0,F.Z)((0,D.Z)().mark((function e(n){var o;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={id:null!==t&&void 0!==t&&t.id?null===t||void 0===t?void 0:t.id:(0,te.Z)(),color:null===n||void 0===n?void 0:n.color,title:null===n||void 0===n?void 0:n.title,allDay:null===n||void 0===n?void 0:n.allDay,description:null===n||void 0===n?void 0:n.description,end:null===n||void 0===n?void 0:n.end,start:null===n||void 0===n?void 0:n.start},e.prev=1,h){e.next=14;break}if(null===t||void 0===t||!t.id){e.next=9;break}return e.next=6,T(o);case 6:a("Update success!"),e.next=12;break;case 9:return e.next=11,O(o);case 11:a("Create success!");case 12:r(),s();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),b=(0,f.useCallback)((0,F.Z)((0,D.Z)().mark((function e(){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z("".concat(null===t||void 0===t?void 0:t.id));case 3:a("Delete success!"),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[null===t||void 0===t?void 0:t.id,a,r]);return(0,oe.jsxs)(ae.ZP,{methods:l,onSubmit:Z,children:[(0,oe.jsxs)(v.Z,{spacing:3,sx:{px:3},children:[(0,oe.jsx)(ae.au,{name:"title",label:"Title"}),(0,oe.jsx)(ae.au,{name:"description",label:"Description",multiline:!0,rows:3}),(0,oe.jsx)(ae._e,{name:"allDay",label:"All day"}),(0,oe.jsx)(J.Qr,{name:"start",control:d,render:function(e){var t=e.field;return(0,oe.jsx)(Q.W,(0,o.Z)((0,o.Z)({},t),{},{value:new Date(t.value),onChange:function(e){e&&t.onChange((0,j.IO)(e))},label:"Start date",format:"dd/MM/yyyy hh:mm a",slotProps:{textField:{fullWidth:!0}}}))}}),(0,oe.jsx)(J.Qr,{name:"end",control:d,render:function(e){var t=e.field;return(0,oe.jsx)(Q.W,(0,o.Z)((0,o.Z)({},t),{},{value:new Date(t.value),onChange:function(e){e&&t.onChange((0,j.IO)(e))},label:"End date",format:"dd/MM/yyyy hh:mm a",slotProps:{textField:{fullWidth:!0,error:h,helperText:h&&"End date must be later than start date"}}}))}}),(0,oe.jsx)(J.Qr,{name:"color",control:d,render:function(e){var t=e.field;return(0,oe.jsx)(re.z,{selected:t.value,onSelectColor:function(e){return t.onChange(e)},colors:n})}})]}),(0,oe.jsxs)(ee.Z,{children:[!(null===t||void 0===t||!t.id)&&(0,oe.jsx)(Y.Z,{title:"Delete Event",children:(0,oe.jsx)($.Z,{onClick:b,children:(0,oe.jsx)(q.Z,{icon:"solar:trash-bin-trash-bold"})})}),(0,oe.jsx)(X.Z,{sx:{flexGrow:1}}),(0,oe.jsx)(g.Z,{variant:"outlined",color:"inherit",onClick:r,children:"Cancel"}),(0,oe.jsx)(U.Z,{type:"submit",variant:"contained",loading:p,disabled:h,children:"Save Changes"})]})]})}var le=n(82626),se=n(40986),ce=n(94920),de=[{value:"dayGridMonth",label:"Month",icon:"mingcute:calendar-month-line"},{value:"timeGridWeek",label:"Week",icon:"mingcute:calendar-week-line"},{value:"timeGridDay",label:"Day",icon:"mingcute:calendar-day-line"},{value:"listWeek",label:"Agenda",icon:"fluent:calendar-agenda-24-regular"}];function ue(e){var t=e.date,n=e.view,r=e.loading,a=e.onToday,o=e.onNextDate,i=e.onPrevDate,l=e.onChangeView,s=e.onOpenFilters,c=(0,w.F)("up","sm"),d=(0,ce.S)(),u=de.filter((function(e){return e.value===n}))[0];return(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5,pr:2,position:"relative"},children:[c&&(0,oe.jsx)(g.Z,{size:"small",color:"inherit",onClick:d.onOpen,startIcon:(0,oe.jsx)(q.Z,{icon:u.icon}),endIcon:(0,oe.jsx)(q.Z,{icon:"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:u.label}),(0,oe.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,oe.jsx)($.Z,{onClick:i,children:(0,oe.jsx)(q.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,oe.jsx)(m.Z,{variant:"h6",children:(0,j.Mu)(t)}),(0,oe.jsx)($.Z,{onClick:o,children:(0,oe.jsx)(q.Z,{icon:"eva:arrow-ios-forward-fill"})})]}),(0,oe.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,oe.jsx)(g.Z,{size:"small",color:"error",variant:"contained",onClick:a,children:"Today"}),(0,oe.jsx)($.Z,{onClick:s,children:(0,oe.jsx)(q.Z,{icon:"ic:round-filter-list"})})]}),r&&(0,oe.jsx)(se.Z,{color:"inherit",sx:{height:2,width:1,position:"absolute",bottom:0,left:0}})]}),(0,oe.jsx)(ce.Z,{open:d.open,onClose:d.onClose,arrow:"top-left",sx:{width:160},children:de.map((function(e){return(0,oe.jsxs)(le.Z,{selected:e.value===n,onClick:function(){d.onClose(),l(e.value)},children:[(0,oe.jsx)(q.Z,{icon:e.icon}),e.label]},e.value)}))})]})}var pe=n(45812),fe=n.n(pe),xe=n(53106),he=n(27029),ve=n(88654),ge=n(94721),Ze=n(49900),be=n(76278),me=n(93317);function ye(e){var t=e.open,n=e.onClose,r=e.filters,a=e.onFilters,o=e.canReset,i=e.onResetFilters,l=e.dateError,s=e.events,c=e.colorOptions,d=e.onClickEvent,u=(0,f.useCallback)((function(e){a("colors",e)}),[a]),p=(0,f.useCallback)((function(e){a("startDate",e)}),[a]),x=(0,f.useCallback)((function(e){a("endDate",e)}),[a]),h=(0,oe.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,oe.jsx)(m.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,oe.jsx)(Y.Z,{title:"Reset",children:(0,oe.jsx)($.Z,{onClick:i,children:(0,oe.jsx)(he.Z,{color:"error",variant:"dot",invisible:!o,children:(0,oe.jsx)(q.Z,{icon:"solar:restart-bold"})})})}),(0,oe.jsx)($.Z,{onClick:n,children:(0,oe.jsx)(q.Z,{icon:"mingcute:close-line"})})]}),g=(0,oe.jsxs)(v.Z,{spacing:1,sx:{my:3,px:2.5},children:[(0,oe.jsx)(m.Z,{variant:"subtitle2",children:"Colors"}),(0,oe.jsx)(re.z,{colors:c,selected:r.colors,onSelectColor:u})]}),Z=(0,oe.jsxs)(v.Z,{spacing:1.5,sx:{mb:3,px:2.5},children:[(0,oe.jsx)(m.Z,{variant:"subtitle2",children:"Range"}),(0,oe.jsxs)(v.Z,{spacing:2,children:[(0,oe.jsx)(xe.M,{label:"Start date",value:r.startDate,onChange:p}),(0,oe.jsx)(xe.M,{label:"End date",value:r.endDate,onChange:x,slotProps:{textField:{error:l,helperText:l&&"End date must be later than start date"}}})]})]}),b=(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsxs)(m.Z,{variant:"subtitle2",sx:{px:2.5,mb:1},children:["Events (",s.length,")"]}),(0,oe.jsx)(me.Z,{sx:{height:1},children:fe()(s,["end"],["desc"]).map((function(e){return(0,oe.jsxs)(be.Z,{onClick:function(){return d("".concat(e.id))},sx:{py:1.5,borderBottom:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:[(0,oe.jsx)(X.Z,{sx:{top:16,left:0,width:0,height:0,position:"absolute",borderRight:"10px solid transparent",borderTop:"10px solid ".concat(e.color)}}),(0,oe.jsx)(Ze.Z,{disableTypography:!0,primary:(0,oe.jsx)(m.Z,{variant:"subtitle2",sx:{fontSize:13,mt:.5},children:e.title}),secondary:(0,oe.jsx)(m.Z,{variant:"caption",component:"div",sx:{fontSize:11,color:"text.disabled"},children:e.allDay?(0,j.zM)(e.start,"dd MMM yy"):(0,oe.jsx)(oe.Fragment,{children:"".concat((0,j.zM)(e.start,"dd MMM yy p")," - ").concat((0,j.zM)(e.end,"dd MMM yy p"))})}),sx:{display:"flex",flexDirection:"column-reverse"}})]},e.id)}))})]});return(0,oe.jsxs)(ve.ZP,{anchor:"right",open:t,onClose:n,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[h,(0,oe.jsx)(ge.Z,{sx:{borderStyle:"dashed"}}),g,Z,b]})}var je=n(45987),Ce=n(85771),we=n(27938),ke=n(7017),De=["filters","onFilters","canReset","onResetFilters","results"],Me=["label","children","sx"];function Fe(e){var t=e.filters,n=e.onFilters,r=e.canReset,a=e.onResetFilters,i=e.results,l=(0,je.Z)(e,De),s=(0,ke.l2)(t.startDate,t.endDate);return(0,oe.jsxs)(v.Z,(0,o.Z)((0,o.Z)({spacing:1.5},l),{},{children:[(0,oe.jsxs)(X.Z,{sx:{typography:"body2"},children:[(0,oe.jsx)("strong",{children:i}),(0,oe.jsx)(X.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,oe.jsxs)(v.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.colors.length&&(0,oe.jsx)(Se,{label:"Colors:",children:t.colors.map((function(e){return(0,oe.jsx)(Ce.Z,{size:"small",label:(0,oe.jsx)(X.Z,{sx:{ml:-.5,width:18,height:18,bgcolor:e,borderRadius:"50%",border:function(e){return"solid 1px ".concat((0,N.Fq)(e.palette.common.white,.24))}}}),onDelete:function(){return function(e){var r=t.colors.filter((function(t){return t!==e}));n("colors",r)}(e)}},e)}))}),t.startDate&&t.endDate&&(0,oe.jsx)(Se,{label:"Date:",children:(0,oe.jsx)(Ce.Z,{size:"small",label:s,onDelete:function(){n("startDate",null),n("endDate",null)}})}),r&&(0,oe.jsx)(g.Z,{color:"error",onClick:a,startIcon:(0,oe.jsx)(q.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function Se(e){var t=e.label,n=e.children,r=e.sx,a=(0,je.Z)(e,Me);return(0,oe.jsxs)(v.Z,(0,o.Z)((0,o.Z)({component:we.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,o.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},a),{},{children:[(0,oe.jsx)(X.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,oe.jsx)(v.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var Re={colors:[],startDate:null,endDate:null};function Ee(){var e=(0,x.Z)(),t=(0,A.K$)(),n=(0,w.F)("up","sm"),r=(0,C.k)(),D=(0,f.useState)(Re),M=(0,i.Z)(D,2),F=M[0],O=M[1],W=function(){var e=(0,S.ZP)(E,R._i,I),t=e.data,n=e.isLoading,r=e.error,a=e.isValidating;return(0,f.useMemo)((function(){return{events:(null===t||void 0===t?void 0:t.events.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{textColor:e.color})})))||[],eventsLoading:n,eventsError:r,eventsValidating:a,eventsEmpty:!n&&!(null!==t&&void 0!==t&&t.events.length)}}),[null===t||void 0===t?void 0:t.events,r,n,a])}(),P=W.events,z=W.eventsLoading,_=!(!F.startDate||!F.endDate)&&F.startDate.getTime()>F.endDate.getTime(),V=function(){var e=(0,f.useRef)(null),t=e.current,n=(0,w.F)("up","sm"),r=(0,f.useState)(new Date),a=(0,i.Z)(r,2),o=a[0],l=a[1],s=(0,f.useState)(!1),c=(0,i.Z)(s,2),d=c[0],u=c[1],p=(0,f.useState)(""),x=(0,i.Z)(p,2),h=x[0],v=x[1],g=(0,f.useState)(null),Z=(0,i.Z)(g,2),b=Z[0],m=Z[1],y=(0,f.useState)(n?"dayGridMonth":"listWeek"),C=(0,i.Z)(y,2),k=C[0],D=C[1],M=(0,f.useCallback)((function(){u(!0)}),[]),F=(0,f.useCallback)((function(){u(!1),m(null),v("")}),[]),S=(0,f.useCallback)((function(){if(t){var e=t.getApi(),r=n?"dayGridMonth":"listWeek";e.changeView(r),D(r)}}),[t,n]),R=(0,f.useCallback)((function(e){t&&(t.getApi().changeView(e),D(e))}),[t]),E=(0,f.useCallback)((function(){if(t){var e=t.getApi();e.today(),l(e.getDate())}}),[t]),I=(0,f.useCallback)((function(){if(t){var e=t.getApi();e.prev(),l(e.getDate())}}),[t]),O=(0,f.useCallback)((function(){if(t){var e=t.getApi();e.next(),l(e.getDate())}}),[t]),W=(0,f.useCallback)((function(e){t&&t.getApi().unselect(),M(),m({start:(0,j.IO)(e.start),end:(0,j.IO)(e.end)})}),[t,M]),T=(0,f.useCallback)((function(e){var t=e.event;M(),v(t.id)}),[M]),P=(0,f.useCallback)((function(e,t){var n=e.event;t({id:n.id,allDay:n.allDay,start:(0,j.IO)(n.start),end:(0,j.IO)(n.end)})}),[]),z=(0,f.useCallback)((function(e,t){var n=e.event;t({id:n.id,allDay:n.allDay,start:(0,j.IO)(n.start),end:(0,j.IO)(n.end)})}),[]),_=(0,f.useCallback)((function(e){e&&(M(),v(e))}),[M]);return{calendarRef:e,view:k,date:o,onDatePrev:I,onDateNext:O,onDateToday:E,onDropEvent:z,onClickEvent:T,onChangeView:R,onSelectRange:W,onResizeEvent:P,onInitialView:S,openForm:d,onOpenForm:M,onCloseForm:F,selectEventId:h,selectedRange:b,onClickEventInFilters:_}}(),L=V.calendarRef,N=V.view,B=V.date,J=V.onDatePrev,K=V.onDateNext,Q=V.onDateToday,U=V.onDropEvent,X=V.onChangeView,Y=V.onSelectRange,$=V.onClickEvent,ee=V.onResizeEvent,te=V.onInitialView,ne=V.openForm,re=V.onOpenForm,ae=V.onCloseForm,le=V.selectEventId,se=V.selectedRange,ce=V.onClickEventInFilters,de=function(e,t,n,r){var a=e.find((function(e){return e.id===t})),o=(0,f.useMemo)((function(){return{id:"",title:"",description:"",color:k.g[1],allDay:!1,start:n?n.start:(new Date).getTime(),end:n?n.end:(new Date).getTime()}}),[n]);if(r)return a||n?G()({},o,a):o}(P,le,se,ne);(0,f.useEffect)((function(){te()}),[te]);var pe=(0,f.useCallback)((function(e,t){O((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,a.Z)({},e,t))}))}),[]),fe=(0,f.useCallback)((function(){O(Re)}),[]),xe=!!F.colors.length||!!F.startDate&&!!F.endDate,he=function(e){var t=e.inputData,n=e.filters,r=e.dateError,a=n.colors,o=n.startDate,i=n.endDate,l=t.map((function(e,t){return[e,t]}));t=l.map((function(e){return e[0]})),a.length&&(t=t.filter((function(e){return a.includes(e.color)})));r||o&&i&&(t=t.filter((function(e){return(0,j.IO)(e.start)>=(0,j.IO)(o)&&(0,j.IO)(e.end)<=(0,j.IO)(i)})));return t}({inputData:P,filters:F,dateError:_}),ve=(0,oe.jsx)(Fe,{filters:F,onFilters:pe,canReset:xe,onResetFilters:fe,results:he.length,sx:{mb:{xs:3,md:5}}});return(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsxs)(b.Z,{maxWidth:!t.themeStretch&&"xl",children:[(0,oe.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:{xs:3,md:5}},children:[(0,oe.jsx)(m.Z,{variant:"h4",children:"Calendar"}),(0,oe.jsx)(g.Z,{variant:"contained",startIcon:(0,oe.jsx)(q.Z,{icon:"mingcute:add-line"}),onClick:re,children:"New Event"})]}),xe&&ve,(0,oe.jsx)(h.Z,{children:(0,oe.jsxs)(H,{children:[(0,oe.jsx)(ue,{date:B,view:N,loading:z,onNextDate:K,onPrevDate:J,onToday:Q,onChangeView:X,onOpenFilters:r.onTrue}),(0,oe.jsx)(l.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,rerenderDelay:10,allDayMaintainDuration:!0,eventResizableFromStart:!0,ref:L,initialDate:B,initialView:N,dayMaxEventRows:3,eventDisplay:"block",events:he,headerToolbar:!1,select:Y,eventClick:$,height:n?720:"auto",eventDrop:function(e){U(e,T)},eventResize:function(e){ee(e,T)},plugins:[c.Z,d.Z,p.Z,u.Z,s.ZP]})]})})]}),(0,oe.jsxs)(Z.Z,{fullWidth:!0,maxWidth:"xs",open:ne,onClose:ae,transitionDuration:{enter:e.transitions.duration.shortest,exit:e.transitions.duration.shortest-80},children:[(0,oe.jsx)(y.Z,{sx:{minHeight:76},children:ne&&(0,oe.jsxs)(oe.Fragment,{children:[" ",null!==de&&void 0!==de&&de.id?"Edit Event":"Add Event"]})}),(0,oe.jsx)(ie,{currentEvent:de,colorOptions:k.g,onClose:ae})]}),(0,oe.jsx)(ye,{open:r.value,onClose:r.onFalse,filters:F,onFilters:pe,canReset:xe,onResetFilters:fe,dateError:_,events:P,colorOptions:k.g,onClickEvent:ce})]})}function Ie(){return(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(r.ql,{children:(0,oe.jsx)("title",{children:" Dashboard: Calendar"})}),(0,oe.jsx)(Ee,{})]})}},92033:function(e,t,n){n.d(t,{Hv:function(){return u},_i:function(){return d}});var r=n(74165),a=n(1413),o=n(29439),i=n(15861),l=n(31243),s=n(14783),c=l.Z.create({baseURL:s.E0});c.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response&&e.response.data||"Something went wrong")})),t.ZP=c;var d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,l,s,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.isArray(t)?t:[t],i=(0,o.Z)(n,2),l=i[0],s=i[1],e.next=3,c.get(l,(0,a.Z)({},s));case 3:return d=e.sent,e.abrupt("return",d.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u={chat:"/api/chat",kanban:"/api/kanban",calendar:"/api/calendar",auth:{me:"/api/auth/me",login:"/api/auth/login",register:"/api/auth/register"},mail:{list:"/api/mail/list",details:"/api/mail/details",labels:"/api/mail/labels"},post:{list:"/api/post/list",details:"/api/post/details",latest:"/api/post/latest",search:"/api/post/search"},product:{list:"/api/product/list",details:"/api/product/details",search:"/api/product/search"}}},24649:function(e,t,n){function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=3657.10291ba9.chunk.js.map